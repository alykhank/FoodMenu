{% for restaurant in menu.outlets %}
<div data-role="page" id="loc{{ restaurant.outlet_id }}{{ restaurant.location.building }}">
	<div data-theme="b" data-role="header" data-position="fixed" data-disable-page-zoom="true" data-tap-toggle="false">
		<a data-role="button" data-rel="back" data-icon="arrow-l" data-iconshadow="false" href="#Locations" class="ui-btn-left ui-icon-nodisc">Back</a>
		<h1 class="title">{{ restaurant.outlet_name }}</h1>
	</div><!-- header -->
	<div data-role="content">
		<ul data-role="listview" data-inset="false">
			<li data-theme="d">
				<a href="http://maps.apple.com/?q={{ restaurant.location.latitude }},{{ restaurant.location.longitude }}">
					<img src="static/img/logos/{{restaurant.outlet_id}}.png" alt="{{ restaurant.outlet_name }}">
					<h2>{{ restaurant.outlet_name }}</h2>
					<p>
						{% set mdash = joiner("â€”") %}
						{% if restaurant.meals %} {{ mdash() }}
							{{ restaurant.meals | join(", ") }}
						{% endif %}
						{% if restaurant.location.building %} {{ mdash() }}
							{{ restaurant.location.building }}
						{% endif %}
					</p>
					<span class="ui-li-count">
						{% if restaurant.location.is_open_now %}
						Open
						{% else %}
						Closed
						{% endif %}
					</span>
				</a>
			</li>
			{% if restaurant.location.description %}
				<li data-role="list-divider">Description:</li>
				<li>{{ restaurant.location.description | safe }}</li>
			{% endif %}
			{% if restaurant.location.notice %}
				<li data-role="list-divider">Notices:</li>
				<li>{{ restaurant.location.notice }}</li>
			{% endif %}
			{% if restaurant.location.dates_closed %}
				<li data-role="list-divider">Dates Closed:</li>
				<li>{{ restaurant.location.dates_closed | map('fulldateformat') | join(', ') }}</li>
			{% endif %}
			{% if restaurant.location.opening_hours %}
				<li data-role="list-divider">Hours:</li>
				{% set days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'] %}
				{% for day in days %}
					{% if day in restaurant.location.opening_hours.keys() %}
						<li data-role="list-divider" data-theme="d">{{ day | capitalize }}:</li>
						{% if restaurant.location.opening_hours[day].is_closed %}
							<li>CLOSED</li>
						{% else %}
							<li>{{ restaurant.location.opening_hours[day].opening_hour | timeformat }} &ndash; {{ restaurant.location.opening_hours[day].closing_hour | timeformat }}</li>
						{% endif %}
					{% endif %}
				{% endfor %}
			{% endif %}
		</ul>
	</div><!-- content -->
	{% import 'footer.html' as footer %}
	{{ footer.setFooter('Locations') }}
</div><!-- page -->
{% endfor %}
